---
pagination:
  data: backgrounds
  size: 1
  alias: background
permalink: backgrounds/{{ background.seed }}.svg
---
{%- set W = 300 -%}
{%- set H = 300 -%}
{%- set H_2 = H / 2 -%}
{%- set CURVES = 4 -%}
{%- set POINTS = 5 -%}
{%- set seed = background.seed | int -%}
<svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 {{ W }} {{ H }}"
  preserveAspectRatio="none" backgroundSeed="{{ background.seed }}" seed="{{ seed }}">
  <rect width="{{ W }}" height="{{ H }}" fill="{{ background.color1 }}"/>
  {%- for curve in range(0, CURVES) -%}
    {%- set path = "M0 " + H_2 + "S" -%}
    {%- for pointIndex in range(0, POINTS) -%}
      {%- set seed = seed * 16807 % 2147483647 -%}
      {%- set rand = seed / 2147483647 -%}
      {%- set X = (pointIndex + 0.5) * W / POINTS -%}
      {%- set Y = (H_2 + H_2 * rand) |Â round -%}
      {%- set path = path + X + " " + Y + " " -%}
    {%- endfor -%}
    {%- set path = path + "V" + W + "H0Z" -%}
    <path d="{{ path }}" fill="{{ background.color2 }}" fill-opacity="{{ 1 / CURVES }}"/>
  {%- endfor -%}
</svg>