{% extends "layouts/base.njk" %}

{% block content %}
<main id="main-content" class="slide {{ variant }}" tabindex="-1">
  {% if background %}
    <img class="background {{ backgroundVariant }}" alt="" role="none" aria-hidden="true" src="{{ background }}">
  {% endif %}
  <article class="slide__content | flow">
  {{ content | safe }}
  </article>
  {% if sideImage %}
    <img class="slide__side-image" src="{{ sideImage }}" alt="{{ sideImageAlt }}" width="{{ sideImageWidth }}">
  {% endif %}
</main>
{% endblock %}

{% block footer %}

{%- set leftIcon -%}
  {% include "icons/left.svg" %}
{%- endset -%}

{%- set leftIconAlt -%}
  <span class="visually-hidden">Previous slide</span>
{%- endset -%}

{%- set rightIcon -%}
  {% include "icons/right.svg" %}
{%- endset -%}

{%- set rightIconAlt -%}
  <span class="visually-hidden">Next slide</span>
{%- endset -%}

{% set previousSlide = collections.slides | getPreviousCollectionItem(page) %}
{% set nextSlide = collections.slides | getNextCollectionItem(page) %}

<nav class="arrow-nav">
  <ul>
    <li>
      {% if previousSlide %}
        <a class="button" href="{{ previousSlide.url }}" data-motion="left">
          {{ leftIcon | safe }} 
          <span class="visually-hidden">{{ previousSlide.data.title }}</span>
        </a>
      {% else %}
        <button class="button" disabled>
          {{ leftIcon | safe }} {{ leftIconAlt | safe}}
          <span class="visually-hidden">Previous slide</span>
        </button>
      {% endif %}
    </li>
    <li>
      {% if nextSlide %}
        <a class="button" href="{{ nextSlide.url }}" data-motion="right">
          {{ rightIcon | safe }}
          <span class="visually-hidden">{{ nextSlide.data.title }}</span>
        </a>
      {% else %}
        <button class="button" disabled>
          {{ rightIcon | safe }}
          <span class="visually-hidden">Next slide</span>
        </button>
      {% endif %}
    </li>
  </ul>
</nav>
{% endblock %}